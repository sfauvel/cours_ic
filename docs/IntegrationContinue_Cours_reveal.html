<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Intégration continue</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme"><!--This CSS is generated by the Asciidoctor-Reveal.js converter to further integrate AsciiDoc's existing semantic with Reveal.js--><style type="text/css">.reveal div.right {
  float: right;
}

/* callouts */
.conum[data-value] {display:inline-block;color:#fff!important;background-color:rgba(50,150,50,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}</style><link href="reveal.js/lib/css/zenburn.css" rel="stylesheet"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "reveal.js/css/print/pdf.css" : "reveal.js/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="reveal.js/lib/js/html5shiv.js"></script><![endif]--></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Intégration continue</h1><div class="preamble"><div class="paragraph"><p>Intégration continue
S. Fauvel – Univ. Nantes 2022</p></div>
<div style="page-break-after: always;"></div></div></section>
<section id="_plan"><h2>Plan</h2><div class="ulist"><ul><li><p>Intégration</p></li><li><p>Intégration continue</p></li><li><p>Jenkins</p></li></ul></div>
<div style="page-break-after: always;"></div></section>
<section><section id="_intégration"><h2>Intégration</h2></section><section id="_entre_le_développement_et_la_production"><h2>Entre le développement et la production ?</h2><div class="imageblock" style="text-align: center"><img src="./images/codeToUser.svg" alt="Schema" width="800"></div>
<div class="quoteblock"><blockquote>On appelle "intégration" tout ce qu&#8217;il reste à faire à une équipe projet, quand le travail de développement à proprement parler est terminé, pour obtenir un produit exploitable, "prêt à l&#8217;emploi".</blockquote><div class="attribution">&#8212; Institut Agile</div></div>
<div style="page-break-after: always;"></div></section><section id="_planning" data-background-image="./images/planning.png" data-background-size="80%"><h2>Planning</h2>
<div class="imageblock" style="text-align: center"><img src="./images/transparent.png" alt="Planning" width="1200"></div>
<div style="page-break-after: always;"></div></section><section id="_intégration_2"><h2>Intégration</h2><div class="imageblock" style="text-align: center"><img src="./images/integration.png" alt="Integration" width="800"></div>
<div style="page-break-after: always;"></div></section><section id="_planning_2"><h2>Planning</h2><div class="imageblock" style="text-align: center"><img src="./images/PlanSansAccroc.jpg" alt="Plan sans accroc"></div>
<div style="page-break-after: always;"></div></section><section id="_planning_3" data-background-image="./images/planning.png" data-background-size="80%"><h2>Planning</h2>
<div class="imageblock" style="text-align: center"><img src="./images/transparent.png" alt="Planning" width="1200"></div>
<div style="page-break-after: always;"></div></section><section id="_en_pratique" data-background-image="./images/planningReel.png" data-background-size="80%"><h2>En pratique</h2>
<div class="imageblock" style="text-align: center"><img src="./images/transparent.png" alt="Planning" width="1200"></div>
<div style="page-break-after: always;"></div></section><section id="_charge"><h2>Charge</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/planningReel.png" alt="Planning" width="500"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/money.png" alt="Charge" width="200"></div></div></td></tr></table>
<div class="paragraph"><p>Les étapes à repasser sont une <strong>charge de travail</strong> supplémentaire</p></div>
<div style="page-break-after: always;"></div></section><section id="_temps"><h2>Temps</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/planningReel.png" alt="Planning" width="500"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/temps.png" alt="Délai" width="200"></div></div></td></tr></table>
<div class="paragraph"><p>Chaque étape à refaire allonge le <strong>délai</strong> de livraison</p></div>
<div style="page-break-after: always;"></div></section><section id="_feedback"><h2>Feedback</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/planningReel.png" alt="Planning" width="500"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/bouteilleALaMer.jpg" alt="Feedback" width="200"></div></div></td></tr></table>
<div class="paragraph"><p>Le temps d’intégration éloigne d’autant le <strong>délai entre le développement et sa validation</strong></p></div>
<div style="page-break-after: always;"></div></section><section id="_incertitude"><h2>Incertitude</h2><div class="imageblock" style="text-align: center"><img src="./images/incertitude.png" alt="Incertitude" width="800"></div>
<div style="page-break-after: always;"></div></section><section id="_1_constat"><h2>1 constat</h2><div class="ulist"><ul><li><p>L&#8217;intégration est une phase compliquée</p></li><li><p>C&#8217;est une étape incertaine</p></li><li><p>Il faut prévoir une charge de travail</p></li></ul></div></section><section id="_intégration_dans_un_cycle_en_v"><h2>Intégration dans un cycle en V</h2><div class="ulist"><ul><li><p>Le <strong>moins</strong> souvent possible</p></li><li><p>1 seul grande intégration</p></li><li><p>Estimer et planifier la phase d&#8217;intégration</p></li><li><p>Prévoir pour limiter les risques</p></li></ul></div></section><section id="_intégration_dans_une_approche_agile"><h2>Intégration dans une  approche Agile</h2><div class="ulist"><ul><li><p>Le <strong>plus</strong> souvent possible</p></li><li><p>De nombreuses petites intégrations</p></li><li><p>Incorporer cette phase au développement</p></li><li><p>Avoir une feedback au plus tôt</p></li></ul></div>
<div style="page-break-after: always;"></div></section></section>
<section><section id="_intégration_continue"><h2>Intégration continue</h2><div style="page-break-after: always;"></div></section><section id="_origine"><h2>Origine</h2><div class="ulist"><ul><li><p>Grady Booch - <strong>Object Oriented Design: With Applications</strong>, 1991</p></li><li><p>Kent Beck - <strong>Extreme Programming Explained</strong>, 1999</p><div class="ulist"><ul><li><p>Diminuer les risques de conflit</p></li><li><p>Détecter les défauts au plus tôt</p></li><li><p>Avoir un logiciel opérationnel en permanence</p></li></ul></div></li><li><p>Martin Fowler - <strong>Continuous Integration</strong>, 2000</p></li></ul></div>
<div class="paragraph"><p><a href="http://www.martinfowler.com/articles/originalContinuousIntegration.html" class="bare">http://www.martinfowler.com/articles/originalContinuousIntegration.html</a></p></div>
<div style="page-break-after: always;"></div></section><section id="_intégration_continue_2"><h2>Intégration continue</h2><div class="paragraph"><p>Automatiser la chaîne de build pour faire l’intégration de manière transparente</p></div>
<div class="imageblock" style="text-align: center"><img src="./images/chaineDeBuild.png" alt="Build" width="1000"></div>
<div style="page-break-after: always;"></div></section><section id="_bonnes_pratiques"><h2>Bonnes pratiques</h2><div class="ulist"><ul><li><p>Commiter régulièrement du code fonctionnel</p><div class="ulist"><ul><li><p>L’intégration continue s’appuie sur le code commité</p></li><li><p>L’application doit compiler et les tests passer</p></li></ul></div></li><li><p>Avoir des tests automatiser pour détecter les anomalies</p></li><li><p>Corriger les builds en échec</p></li><li><p>Optimiser les temps de builds pour améliorer le feedback</p></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_bénéfices"><h2>Bénéfices</h2><div class="ulist"><ul><li><p>Réduction des risques lié à l’incertitude</p><div class="ulist"><ul><li><p>Etat du projet connu en permanence</p></li><li><p>Dernière version stable identifiée</p></li></ul></div></li><li><p>Réduction des tâches répétitives</p><div class="ulist"><ul><li><p>Gain de temps pour les équipes</p></li><li><p>Réduction des délais pour l’intégration</p></li></ul></div></li><li><p>Impose des bonnes pratiques</p><div class="ulist"><ul><li><p>Oblige une rigueur de travail</p></li><li><p>Assure la reproductibilité</p></li></ul></div></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_définitions"><h2>Définitions</h2><div class="ulist"><ul><li><p><strong>Continuous Integration</strong>: Vérifie l&#8217;intégration</p></li><li><p><strong>Continuous Delivery</strong>: Prêt à être mis en production</p></li><li><p><strong>Continuous Deployment</strong>: Mise en production</p></li></ul></div>
<div class="paragraph"><p><a href="https://medium.com/jorgeacetozi/continuous-integration-vs-continuous-delivery-vs-continuous-deployment-d5839a85a959" class="bare">https://medium.com/jorgeacetozi/continuous-integration-vs-continuous-delivery-vs-continuous-deployment-d5839a85a959</a></p></div>
<div style="page-break-after: always;"></div></section><section id="_outils"><h2>Outils</h2><div class="ulist"><ul><li><p>Jenkins</p></li><li><p>TeamCity</p></li><li><p>Travis</p></li><li><p>Gitlab CI</p></li><li><p>GitHub Actions</p></li><li><p>&#8230;&#8203;</p></li></ul></div>
<div style="page-break-after: always;"></div></section></section>
<section><section id="_jenkins"><h2>Jenkins</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins.png" alt="Jenkins"></div><div style="page-break-after: always;"></div></section><section id="_jenkins_2"><h2>Jenkins</h2><div class="paragraph"><p>Serveur d’intégration continue open source</p></div>
<div class="paragraph"><p>Gère et contrôle les tâches du cycle de vie d’un logiciel:</p></div>
<div class="ulist"><ul><li><p>Compilation</p></li><li><p>Documentation</p></li><li><p>Tests</p></li><li><p>Packaging</p></li><li><p>analyse de code</p></li><li><p>&#8230;&#8203;</p></li></ul></div>
<div class="paragraph"><p>Extensible en ajoutant des plugins</p></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_installation"><h2>Jenkins - installation</h2><div class="paragraph"><p>Serveur Web, un simple war</p></div>
<div class="paragraph"><p>Lancement :</p></div>
<pre class="highlight listingblock"><code data-noescape>java -jar jenkins.war</code></pre>
<div class="paragraph"><p>Accès:</p></div>
<pre class="highlight listingblock"><code data-noescape>http://localhost:8080</code></pre>
<div style="page-break-after: always;"></div></section><section id="_jenkins_jobs"><h2>Jenkins - jobs</h2><div class="ulist"><ul><li><p>Un <strong>job</strong> est <strong>une configuration</strong> pour l’intégration d’un projet</p></li><li><p>Un projet peut avoir plusieurs jobs</p></li><li><p>Le lancement d’un job exécute les instructions décrites dans sa configuration</p></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_tableau_de_bord"><h2>Jenkins – Tableau de bord</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_board.svg" alt="Jenkins" width="100%"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_statut_du_job"><h2>Jenkins – Statut du job</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:9.0909%"><col style="width:18.1818%"><col style="width:72.7273%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/blue.png" alt="Succès" width="100"></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">Succès</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Tout fonctionne</p></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/red.png" alt="Echec" width="100"></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">En échec</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">La construction n’a pas pu se faire (compilation, &#8230;&#8203;)</p></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/yellow.png" alt="Instable" width="100"></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">Instable</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">La build a abouti mais des tests échouent</p></td></tr><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/grey.png" alt="Désactivé" width="100"></div></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">Désactivé</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Le job est désactivé</p></td></tr></table>
<div style="page-break-after: always;"></div></section><section id="_jenkins_jobs_2"><h2>Jenkins - jobs</h2><div class="paragraph"><p>Plusieurs types de jobs</p></div>
<div class="ulist"><ul><li><p><strong>Free-style</strong> : accès à toutes les options disponibles</p></li><li><p><strong>Maven</strong> : basé sur une configuration Maven</p></li><li><p><strong>Multi-configuration</strong> : projets complexes avec plusieurs builds</p></li><li><p><strong>Job externe</strong> : monitoring de processus externe</p></li><li><p><strong>Pipeline</strong> : définition du processus d’intégration/déploiement sous forme de script</p></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_jobs_3"><h2>Jenkins - jobs</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_job_menu.png" alt="Jenkins menu"></div>
<div class="ulist"><ul><li><p>Général</p></li><li><p>Gestion de code source</p></li><li><p>Ce qui déclenche le build</p></li><li><p>Environnement de Build</p></li><li><p>Build</p></li><li><p>Actions à la suite du build</p></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_général"><h2>Général</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_general.png" alt="Jenkins general"></div>
<div class="ulist"><ul><li><p>Paramètres du build</p></li><li><p>Supprimer les anciens build</p></li><li><p>&#8230;&#8203;</p></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_gestion_de_code_source"><h2>Gestion de code source</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_codesource.png" alt="Jenkins gestion du code source"></div>
<div style="page-break-after: always;"></div></section><section id="_gestion_de_code_source_2"><h2>Gestion de code source</h2><div class="ulist"><ul><li><p>Récupération dans un espace dédié</p></li><li><p>Construction de l&#8217;application dans cet espace</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_workspace.png" alt="Jenkins espace de travail"></div>
<div style="page-break-after: always;"></div></section><section id="_ce_qui_déclenche_le_build"><h2>Ce qui déclenche le build</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_declenchement.png" alt="Jenkins déclenchement du build"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_déclenchement"><h2>Jenkins - déclenchement</h2><div class="ulist"><ul><li><p>Planification:</p><div class="ulist"><ul><li><p>Construire périodiquement</p></li><li><p>Scruter la gestion de configuration</p></li></ul></div></li><li><p>La syntaxe est celle du Cron</p><div class="ulist"><ul><li><p>[MINUTES] [HEURES] [JOURMOIS] [MOIS] [JOURSEMAINE]</p></li><li><p>'*' représente l&#8217;ensemble des valeurs possibles</p></li><li><p>'N' déclenche lorsque la valeur vaut N</p></li><li><p>'*/X' déclenche tous les X</p></li></ul></div></li><li><p>Exemple:</p><div class="ulist"><ul><li><p>toutes les 5 minutes: */5 * * * *</p></li><li><p>A 23h30 le vendredi : 30 23 * * 5</p></li></ul></div></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_gestionnaire_de_configuration"><h2>Jenkins – gestionnaire de configuration</h2><div class="paragraph"><p>Déclenchement toutes les 2 minutes</p></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_historique_periodique.png" alt="Jenkins historique" width="35%"></div>
<div class="paragraph"><p>Dernier accès au gestionnaire de configuration</p></div>
<table class="tableblock frame-none grid-all" style="width:100%"><colgroup><col style="width:25%"><col style="width:75%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_log_dernier_acces_git.png" alt="Jenkins log dernière accès Git"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_accessGit.png" alt="Jenkins dernière accès au gestionnaire de configuration"></div></div></td></tr></table>
<div style="page-break-after: always;"></div></section><section id="_environnement_de_build"><h2>Environnement de Build</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_environnementbuild.png" alt="Jenkins environnement de build"></div>
<div style="page-break-after: always;"></div></section><section id="_build"><h2>Build</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_build.png" alt="Jenkins build"></div>
<div style="page-break-after: always;"></div></section><section id="_build_2"><h2>Build</h2><table class="tableblock frame-all grid-all" style=""><colgroup><col><col></colgroup><tbody><tr><td class="tableblock halign-right valign-top"><p class="tableblock">Script shell</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_script_shell.png" alt="Jenkins build script shell" width="80%"></div></div></td></tr><tr><td class="tableblock halign-right valign-top"><p class="tableblock">Build Maven</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_build_maven.png" alt="Jenkins build maven" width="80%"></div></div></td></tr></table>
<div style="page-break-after: always;"></div></section><section id="_jenkins_informations_sur_lexécution"><h2>Jenkins – informations sur l’exécution</h2><table class="tableblock frame-all grid-all" style=""><colgroup><col><col></colgroup><tbody><tr><td class="tableblock halign-right valign-top"><p class="tableblock">Sur le tableau de bord</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_board_light.png" alt="Jenkins tableau de bord" height="150"></div></div></td></tr><tr><td class="tableblock halign-right valign-top"><p class="tableblock">Sur le job</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_historique.png" alt="Jenkins historique de build" height="230"></div></div></td></tr><tr><td class="tableblock halign-right valign-top"><p class="tableblock">Console</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/jenkins_console.png" alt="Jenkins console" height="200"></div></div></td></tr></table>
<div style="page-break-after: always;"></div></section><section id="_jenkins_tests"><h2>Jenkins – Tests</h2><div class="ulist"><ul><li><p>En cas d’échec des tests, l’état du build devient instable</p></li><li><p>Le résultat des tests est affiché</p></li><li><p>On peut accéder au rapport détaillé d’exécution des tests</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_test_results.png" alt="Jenkins résultats de test" width="40%"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_tendance"><h2>Jenkins – Tendance</h2><div class="ulist"><ul><li><p>Visualisation du temps de construction du build</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_tendance.png" alt="Jenkins tendance temps d'éxecution" width="80%"></div>
<div style="page-break-after: always;"></div></section><section id="_actions_à_la_suite_du_build"><h2>Actions à la suite du build</h2><div class="imageblock" style="text-align: center"><img src="./images/jenkins_apresbuild.png" alt="Jenkins actions après le build"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_notification"><h2>Jenkins – Notification</h2><div class="paragraph"><p>Il est possible (recommandé) d’envoyer une notification en cas d’échec du build</p></div>
<div class="paragraph"><p><strong>L’échec d’un build indique un problème qu’il faut régler au plus vite.</strong></p></div>
<div class="paragraph"><p>La notification ne doit pas être considérée comme une simple information mais comme une alerte.</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">D’autres moyens peuvent être utilisés pour signaler le problème</p></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/trafficlight_scheme.jpg" alt="Feux tricolore" width="80%"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock" style="text-align: center"><img src="./images/8a0f_usb_rocket_launcher_cubicle.jpg" alt="rocket" width="60%"></div></div></td></tr></table>
<div class="paragraph"><p>La notification peut être 'ciblée' sur celui qui a cassé le build (nécessite d’ajouter les utilisateurs)</p></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_exécution_post_build_analyse_de_code"><h2>Jenkins – Exécution post build: Analyse de code</h2><div class="ulist"><ul><li><p>D’autres actions peuvent être réalisées en plus de la construction</p></li><li><p>On peut déclencher une analyse de code (Sonar, Checkstyle, &#8230;&#8203;)</p></li><li><p>Le rapport d’analyse est généré et accessible via des plugins</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_sonar.png" alt="Sonar" width="55%"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_organisation_des_builds"><h2>Jenkins – Organisation des builds</h2><div class="ulist"><ul><li><p>La multiplication des analyses augmente le temps de traitement et la charge du serveur d’intégration</p></li><li><p>Certaines analyses ont moins d’intérêt à être réalisées en continue</p></li><li><p>Créer plusieurs jobs avec des objectifs et des fréquences différents</p></li><li><p>Exemple:</p><div class="ulist"><ul><li><p>En continue : compilation, tests unitaires</p></li><li><p>Quotidien : analyse de code, javadoc, test bout en bout</p></li><li><p>Hebdomadaire: test de charge, test multi-navigateur</p></li></ul></div></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_mode_maître_esclave"><h2>Jenkins – Mode Maître / Esclave</h2><div class="ulist"><ul><li><p>Le maître</p><div class="ulist"><ul><li><p>défini les esclaves</p></li><li><p>agrège les données</p></li></ul></div></li><li><p>Les esclaves</p><div class="ulist"><ul><li><p>répartir la charge</p></li><li><p>rendre scalable</p></li><li><p>permet d’avoir des environnements spécifiques (OS, version java, &#8230;&#8203;)</p></li></ul></div></li></ul></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_pipeline"><h2>Jenkins – Pipeline</h2><div class="ulist"><ul><li><p>Description du job sous forme de code</p></li><li><p>Permet la réutilisation</p></li><li><p>Historisation du job dans le gestionnaire de source</p></li><li><p>Exécution d&#8217;étapes en parallèle</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_pipeline.png" alt="Pipeline" width="70%"></div>
<div class="imageblock" style="text-align: center"><img src="./images/jenkins_pipeline.png" alt="Pipeline" width="70%"></div>
<div style="page-break-after: always;"></div></section><section id="_jenkins_pipeline_2" class="titletop"><h2>Jenkins – Pipeline</h2><pre class="highlight listingblock fullcode"><code data-noescape>pipeline {
    agent any
    tools {
        maven 'Maven'
    }
    stages{
        stage('Checkout') {
            steps {
                checkout scm: [
                    $class: 'GitSCM',
                    branches: [[name: '*/master']],
                    userRemoteConfigs: [[url: 'file:///home/project/cours_ic']]
                ]
            }
        }
        stage('Build and test') {
            steps {
                sh "mvn install"
            }
        }
        stage('Post build') {
            parallel {
                stage('Javadoc') {
                    steps {
                        sh "mvn javadoc:javadoc"
                        // publish html
                        publishHTML target: [
                            reportDir: 'target/site/apidocs',
                            reportFiles: 'index.html',
                            reportName: 'Javadoc'
                          ]
                    }
                }
                stage('Checkstyle') {
                    steps {
                        sh "mvn checkstyle:checkstyle"
                        publishHTML target: [
                            reportDir: 'target/site',
                            reportFiles: 'checkstyle.html',
                            reportName: 'Checkstyle'
                          ]
                    }

                }
            }
        }

    }
}</code></pre>
<div style="page-break-after: always;"></div></section></section>
<section id="_questions"><h2>Questions</h2><style>
.reveal section img {
    border: 0px solid black;
    background: none;
    box-shadow: none;
}

.reveal td.valign-top {
    vertical-align: top;
}

.reveal section.titletop {
    top: 10px !important;
}

.reveal pre.fullcode code {
    max-height: 850px !important;
    font-size: 70%;
    line-height: 1.1em;
}

</style></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
})

// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: false,
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Push each slide change to the browser history
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: "100%",//960,
  height: "100%",//700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0,//0.2,
  maxScale: 1,//1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: 'reveal.js/plugin/notes/notes.js', async: true },
      
      
      
      
  ],

  

});</script></body></html>